--FLASHBACK operations
flashback query allows the contents of a table to be queried with reference to a specific point in time

--the region of the customer_id=12 was north before 2015-10-13 7:00 pm
UPDATE customer SET region ='SOUTH' WHERE customer_id =12

--the query below shows that the region of customer_id=12 is north
SELECT * FROM customer AS OF TIMESTAMP
TO_TIMESTAMP('2015-08-13 13:34:12','YYYY-MM-DD HH24:MI:SS')


-- UNDO_RETENTION
--FLASHBACK operation helps us to trach a specific row during a specified time period UNDO_RETENTION parameter stores the number of seconds

--see the retention for undo_retention to find out how many seconds the undo_retention can hold, it indicates the time we can track back
--we can increase the time by contacting the DBA
--the start time should always be greater than or equal to current time - 15 mintues
SHOW PARAMETER RETENTION;

SELECT versions_startscn, versions_starttime, versions_endscn, versions_endtime, versions_xid, versions_operation, 
region FROM customer
VERSIONS BETWEEN TIMESTAMP TO_TIMESTAMP('2015-10-14 19:35:00','YYYY-MM-DD HH24:MI:SS')
AND TO_TIMESTAMP('2015-10-14 19:52:00','YYYY-MM-DD HH24:MI:SS')
WHERE customer_id =12;
